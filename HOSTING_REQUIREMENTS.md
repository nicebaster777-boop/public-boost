# Требования к хостингу для Public Boost

## Анализ размеров проекта

### 1. Исходный код
- **Backend (Python)**: ~5-10 MB
- **Frontend (React/TypeScript)**: ~3-5 MB
- **Конфигурационные файлы**: ~1-2 MB
- **Итого код**: ~10-20 MB

### 2. Зависимости (устанавливаются при деплое)

#### Frontend (Node.js)
- **node_modules** (dev): ~155 MB
- **node_modules** (production): ~50-80 MB (после `npm ci --production`)
- **Build артефакты** (dist/): ~5-10 MB (после `npm run build`)

#### Backend (Python)
- **Python пакеты** (в Docker образе): ~200-300 MB
- **Python base image**: ~150-200 MB

### 3. Docker образы (на хостинге)

| Образ | Размер | Описание |
|-------|--------|----------|
| **Backend** | ~400-500 MB | Python 3.11 + зависимости |
| **Frontend** | ~150-200 MB | Nginx + собранный фронтенд |
| **PostgreSQL** | ~200-250 MB | PostgreSQL 16 Alpine |
| **Redis** | ~50-100 MB | Redis 7 Alpine |
| **Nginx** | ~50 MB | Nginx Alpine |
| **Итого образы** | **~850-1100 MB** | ~1 GB |

### 4. База данных (PostgreSQL)

#### Минимальный размер (пустая БД)
- **Базовая структура**: ~10-20 MB

#### Рост данных (зависит от использования)

| Данные | Размер на 1000 записей | Рост |
|--------|------------------------|------|
| **Пользователи** | ~0.5 MB | Медленный |
| **Сообщества** | ~0.3 MB | Медленный |
| **Посты** | ~2-5 MB | Средний |
| **Аналитика (снапшоты)** | ~10-20 MB | Быстрый |
| **Публикации** | ~1-2 MB | Средний |

**Оценка на 1 год работы:**
- 100 пользователей: ~50 MB
- 1000 сообществ: ~300 MB
- 10,000 постов: ~50 MB
- 100,000 снапшотов аналитики: ~1-2 GB
- **Итого БД**: ~1.5-2.5 GB

### 5. Логи и временные файлы

- **Nginx логи**: ~10-50 MB/месяц
- **Backend логи**: ~10-50 MB/месяц
- **Docker logs**: ~20-100 MB/месяц
- **Итого логи**: ~50-200 MB/месяц (~600 MB - 2.4 GB/год)

### 6. Загруженные файлы (uploads)

- **Изображения постов**: ~1-5 MB на изображение
- **Оценка**: ~100-500 MB (зависит от количества постов с изображениями)

---

## Итоговая оценка места на хостинге

### Минимальная конфигурация (для старта)
- **Docker образы**: ~1 GB
- **Код проекта**: ~20 MB
- **База данных (пустая)**: ~20 MB
- **Логи (1 месяц)**: ~100 MB
- **Резерв**: ~500 MB
- **ИТОГО**: **~1.6-2 GB**

### Комфортная конфигурация (для работы)
- **Docker образы**: ~1 GB
- **Код проекта**: ~20 MB
- **База данных (1 год работы)**: ~2 GB
- **Логи (1 год)**: ~2 GB
- **Загруженные файлы**: ~500 MB
- **Резерв для роста**: ~2 GB
- **ИТОГО**: **~7.5-8 GB**

### Рекомендуемая конфигурация (с запасом)
- **Основное место**: ~8 GB
- **Запас для роста**: ~2 GB
- **ИТОГО**: **~10 GB**

---

## Рекомендации по хостингу

### Вариант 1: Минимальный VPS (для старта)
- **Диск**: 20 GB SSD
- **RAM**: 2 GB
- **CPU**: 1-2 ядра
- **Стоимость**: ~$5-10/месяц
- **Подходит для**: MVP, тестирования, небольшого количества пользователей

### Вариант 2: Комфортный VPS (рекомендуется)
- **Диск**: 40-50 GB SSD
- **RAM**: 4 GB
- **CPU**: 2-4 ядра
- **Стоимость**: ~$15-25/месяц
- **Подходит для**: Продакшена, среднего количества пользователей (100-500)

### Вариант 3: Мощный VPS (для роста)
- **Диск**: 80-100 GB SSD
- **RAM**: 8 GB
- **CPU**: 4-8 ядер
- **Стоимость**: ~$40-60/месяц
- **Подходит для**: Большого количества пользователей (500+)

---

## Оптимизация места

### 1. Очистка Docker
```bash
# Удалить неиспользуемые образы
docker system prune -a

# Удалить неиспользуемые volumes
docker volume prune
```

### 2. Ротация логов
- Настроить автоматическую ротацию логов
- Хранить логи только за последние 30 дней
- Экономия: ~1-2 GB/год

### 3. Оптимизация БД
- Регулярная очистка старых данных аналитики (старше 1 года)
- Архивация старых постов
- Экономия: ~500 MB - 1 GB/год

### 4. Сжатие изображений
- Автоматическое сжатие загружаемых изображений
- Экономия: ~50-70% места на uploads

---

## Вывод

**Для комфортной работы понадобится:**
- **Минимум**: 20 GB (для старта)
- **Рекомендуется**: 40-50 GB (для продакшена)
- **С запасом**: 80-100 GB (для роста)

**Оптимальный вариант**: VPS с 40-50 GB SSD диском за ~$15-25/месяц.
